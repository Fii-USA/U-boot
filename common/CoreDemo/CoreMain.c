/*--------------------------------------------------------------------------
 * Copyright (c) 2009-2010 by Nuvoton Technology Israel
 * All rights reserved.
 *--------------------------------------------------------------------------*/

/*------------------------------------------------------------------------*/
/*-------------------------   Include files   ----------------------------*/
/*------------------------------------------------------------------------*/
#include <stdlib.h>
#include <PolegTemplate.h>
#include "../Arbel.h"
#include "Common.h"
#include "CoreGeneral.h"
#include "CoreUtility.h"
#include "CoreTests.h"


/*------------------------------------------------------------------------*/
/*----------------------   Constants definitions  ------------------------*/
/*------------------------------------------------------------------------*/

/*------------------------------------------------------------------------*/
/*----------------------   Variable definitions   ------------------------*/
/*------------------------------------------------------------------------*/

/*------------------------------------------------------------------------*/
/*---------------------------   Externs   --------------------------------*/
/*------------------------------------------------------------------------*/

/*------------------------------------------------------------------------*/
/*--------------------------   Functions   -------------------------------*/
/*------------------------------------------------------------------------*/

void core_demo_main(void)							// 'main' must be void
{
	//BOOL testPassed = TRUE;
	/*------------------------------------------------------------------*/
	/* Message Box and Utilities Initialization							*/
	/*------------------------------------------------------------------*/
	
	MSG_Init(CORE_MSG_BA, CORE_MSG_SIZE);

	Enum_AssignTable(enumStringTablePtr);

	
	/*------------------------------------------------------------------*/
	/* Optional parameters												*/
	/*------------------------------------------------------------------*/

	// Specify whether a function will display execution messages
	FuncPrintToLog = TRUE;

	/********************************************************************/
	/********************* TODO: Add you code here **********************/
	/********************************************************************/

	
	TEST_Configuration();		// Don't remove (ICU initialization)
//	TEST_timer_1(TRUE);

//while(1);
	LogMessage("\nStart Loop\n");
	
	while(1)
	{
		switch(MSG_RunTest())
		{
		case TEST_DEMO:
			LogMessage("TEST_DEMO\n");
			TEST_Demonstration();
			break;
		
		default:
			break;
		}


		
	}


	/************************ End of Test's code ************************/

	//----------------------------------------------------------------------//
	// Signal Tests Done!													//
	//----------------------------------------------------------------------//
	
	// Signal Tests Done!
	MSG_TestDone();


	// Keep in endless loop since there is no OS to return to
	while(TRUE);

} // *End of main*
